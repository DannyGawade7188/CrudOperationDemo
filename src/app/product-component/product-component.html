<h2>Product List</h2>

<table border="1">
  <tr>
    <th>ID</th>
    <th>Name</th>
    <th>Price</th>
    <th>Quantity</th>
    <th>Actions</th>
  </tr>
  <tr *ngFor="let product of products">
    <td>{{ product.id }}</td>
    <td>{{ product.name }}</td>
    <td>{{ product.price }}</td>
    <td>{{ product.quantity }}</td>
    <td>
      <button (click)="startEdit(product)">Edit</button>
      <button (click)="deleteProduct(product.id!)">Delete</button>
    </td>
  </tr>
</table>

<hr>

<h3>{{ editProduct ? 'Edit Product' : 'Add Product' }}</h3>

<form (ngSubmit)="saveProduct()">
  <!-- If editing -->
  <div *ngIf="editProduct; else addMode">
    <input [(ngModel)]="editProduct.name" name="name" placeholder="Name" required>
    <input [(ngModel)]="editProduct.price" name="price" type="number" placeholder="Price" required>
    <input [(ngModel)]="editProduct.quantity" name="quantity" type="number" placeholder="Quantity" required>
    <button type="submit">Update</button>
    <button type="button" (click)="cancelEdit()">Cancel</button>
  </div>

  <!-- If adding new -->
  <ng-template #addMode>
    <input [(ngModel)]="newProduct.name" name="name" placeholder="Name" required>
    <input [(ngModel)]="newProduct.price" name="price" type="number" placeholder="Price" required>
    <input [(ngModel)]="newProduct.quantity" name="quantity" type="number" placeholder="Quantity" required>
    <button type="submit">Add</button>
  </ng-template>
</form>

