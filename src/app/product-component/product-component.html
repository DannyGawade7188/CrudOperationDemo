

<h3>{{ editProduct ? 'Edit Product' : 'Add Product' }}</h3>

<!-- product-form.component.html -->
<form (ngSubmit)="saveProduct()" #productForm="ngForm" class="product-form">

  <!-- If editing -->
  <div *ngIf="editProduct; else addMode" class="form-container">
    <h2>Edit Product</h2>

    <div class="form-group">
      <label for="editName">Product Name</label>
      <input id="editName" [(ngModel)]="editProduct.name" name="name" required />
    </div>

    <div class="form-group">
      <label for="editPrice">Price</label>
      <input id="editPrice" [(ngModel)]="editProduct.price" name="price" type="number" required />
    </div>

    <div class="form-group">
      <label for="editQuantity">Quantity</label>
      <input id="editQuantity" [(ngModel)]="editProduct.quantity" name="quantity" type="number" required />
    </div>

    <div class="form-actions">
      <button type="submit" class="btn primary">Update</button>
      <button type="button" (click)="cancelEdit()" class="btn secondary">Cancel</button>
    </div>
  </div>

  <!-- If adding new -->
  <ng-template #addMode>
    <div class="form-container">
      <h2>Add New Product</h2>

      <div class="form-group">
        <label for="newName">Product Name</label>
        <input id="newName" [(ngModel)]="newProduct.name" name="name" required />
      </div>

      <div class="form-group">
        <label for="newPrice">Price</label>
        <input id="newPrice" [(ngModel)]="newProduct.price" name="price" type="number" required />
      </div>

      <div class="form-group">
        <label for="newQuantity">Quantity</label>
        <input id="newQuantity" [(ngModel)]="newProduct.quantity" name="quantity" type="number" required />
      </div>

      <div class="form-actions">
        <button type="submit" class="btn success">Add</button>
      </div>
    </div>
  </ng-template>
</form>

<hr>
<h2>Product List</h2>

<table border="1">
  <tr>
    <th>ID</th>
    <th>Name</th>
    <th>Price</th>
    <th>Quantity</th>
    <th>Actions</th>
  </tr>
  <tr *ngFor="let product of products">
    <td>{{ product.id }}</td>
    <td>{{ product.name }}</td>
    <td>{{ product.price }}</td>
    <td>{{ product.quantity }}</td>
    <td>
      <button (click)="startEdit(product)">Edit</button>
      <button (click)="deleteProduct(product.id!)">Delete</button>
    </td>
  </tr>
</table>
